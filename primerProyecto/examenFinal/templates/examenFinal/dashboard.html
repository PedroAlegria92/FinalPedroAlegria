<!--
    EXAMEN FINAL
    MODIFICAR LO NECESARIO PARA CUMPLIR CON LOS REQUERIMIENTOS
    SE TIENE UNA DESCRIPCION APROXIMADA DE LO QUE SE REQUIERE EN CADA FUNCION; SIN EMBARGO
    ES LIBRE DE UTILIZAR LOS METODOS Y PROCEDIMIENTOS QUE SEAN MAS COMODOS PARA USTED
    ÉXITOS! :)
-->

{% load static %}

<!DOCTYPE html>
<html lang="es">
    <head>
        <title>Dashboard</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.js"></script>

        <script src="{% static 'examenFinal/dashboard.js' %}"></script>


    </head>
    <body>
        <div class="container">
            <br>
            <h1>Tareas del examen final</h1>
            <br>
            <div>
                <a class="btn btn-success float-start" style="color: white;" data-bs-toggle="modal" data-bs-target="#nuevaTarea">Nuevo<i class="fa fa-plus"></i></a>
                <a class="btn btn-success float-end" style="color: white;" href="{% url 'examenFinal:index' %}">Salir</a>
            </div>
            <br>
            <br>
            <table class="table table-bordered table-hover" style="font-size: 12px;">
                <thead class="table-dark">
                    <tr>
                        <th scope="col">Fecha de creacion</th>
                        <th scope="col">Fecha de entrega</th>
                        <th scope="col">Estado de la tarea</th>
                        <th scope="col">Ver detalle</th>
                        <th scope="col">Editar tarea</th>
                        <th scope="col">Eliminar tarea</th>
                    </tr>
                </thead>
                <tbody>
                {% for tarea in tareas_totales %}
                <tr>
                    <td scope="row">{{ tarea.fechaCreacion }}</td>
                    <td>{{ tarea.fechaEntrega }}</td>
                    <td>{{ tarea.estadoTarea }}</td>
                    <td style="text-align: center;"><a id="{{ tarea.id }}" class="btn btn-info" style="color: black;" data-bs-toggle="modal" data-bs-target="#verDetalle" onclick="mostrarDetalle(this.id)"><i class="fa fa-eye"></i></a></td>
                    <td style="text-align: center;"><a id="editar{{ tarea.id }}" class="btn btn-warning" style="color: black;" data-bs-toggle="modal" data-bs-target="#editarTarea" onclick="editarTarea(this.id)"><i class="fa fa-edit"></i></a></td>
                    <td style="text-align: center;"><a id="eliminar{{ tarea.id }}" class="btn btn-danger" style="color: white;" onclick="eliminarTarea(this.id)"><i class="fa fa-trash"></i></a></td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </body>
</html>

<!--VENTANA MODAL NUEVA TAREA-->
<!--
    Crear los inputs necesarios para capturar la informacion para crear una nueva tarea
    Cada input debe contar con su respectivo id, name, class, etc ... para su captura en el codigo javascript
    Para esta actividad la tarea tiene Fecha de creacion, Fecha de entrega, Estado de tarea y Descripcion
    Recordar eliminar la informacion al interior de los input cuando la tarea haya sido guardada.
-->
<div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" id="nuevaTarea">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Agregar tarea</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="eliminarNuevo()"></button>
            </div>
            <div class="modal-body">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="eliminarNuevo()">Cancelar</button>
                <button type="submit" class="btn btn-primary" onclick="nuevaTarea()">Agregar</button>
            </div>
        </div>
    </div>
</div>

<!--VENTANA MODAL EDITAR TAREA-->
<!--
    Esta ventana debe cargar la informacion de la tarea correspondiente
    Desarrollar los inputs apropiados para mostrar dicha informacion y que sea editable
    El usuario luego de editar la informacion debe presionar el boton Actualizar y la informacion de los input
    se enviará hacia el servidor. Definir un formulario para esta vista, esta es la unica funcionalidad
    que permita el refresco de la vista
    No olvidar crear un input readonly para mostrar el id de la tarea y enviarla al servidor
-->
<div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" id="editarTarea">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Editar tarea</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="submit" class="btn btn-primary">Actualizar</button>
            </div>
        </div>
    </div>
</div>


<!--VENTANA MODAL MOSTRAR DETALLE-->
<!--
    REALIZAR LAS MODIFICACIONES NECESARIAS, POR EJEMPLO
    -COLOCAR LOS PARAMETROS name, id, class, ETC PARA LA CAPTURA DE LOS ELEMENTOS
    EN EL CODIGO JAVASCRIPT
    -SE PUEDE CREAR UNA ESTRUCTURA PREVIA Y LUEGO SOLO COMPLETAR LOS DATOS AL INTERIOR DEL CÓDIGO JAVASCRIPT
    -RECORDAR ELIMINAR LOS DATOS LUEGO DE CERRAR LA VENTANA UTILIZANDO LA FUNCION ASOCIADA A LOS BOTONES
    CERRAR Y CLOSE
-->
<div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" id="verDetalle">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Detalle de la tarea</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="eliminarDetalle()"></button>
            </div>
            <div class="modal-body">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="eliminarDetalle()">Cerrar</button>
            </div>
        </div>
    </div>
</div>